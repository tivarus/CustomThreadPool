# CustomThreadPool

## Описание проекта
Кастомный пул потоков на Java с настраиваемыми очередями и параметрами.
## Отчёт

### Сравнение производительности

Тест с 200 задачами и параметрами corePoolSize = 4, maxPoolSize = 10, queueSize = 10, keepAlive=5s, minSpareThreads = 2:

|                       | ThreadPoolExecutor(наш) | ThreadPoolExecutor |
| ---------------------------- |-------------------------|---------------|
| Время выполнения (мс)        | 9                       | 10            |
| Выполнено задач              | 44                      | 20            |
| Отклонено задач              | 156                     | 180           |
| Среднее время на задачу (мс) | 0.2                     | 0.5           |

Наш пул выполнил в два раза больше задач и сократил среднее время на задачу в 2.5 раза.

### Исследование оптимальных параметров

Тесты проводились для следующих значений: (200 задач, keepAliveTime = 5s, sleep = 100ms):
#### Влияние queueSize
| queueSize | Время (мс) | Выполнено | Отклонено | Среднее время (мс) |
|-----------|------------|-----------|-----------|--------------------|
| 2         | 10         | 12        | 188       | 0.83               |
| 10        | 9          | 44        | 156       | 0.20               |
| 25        | 10         | 104       | 96        | 0.10               |
| 50        | 10         | 200       | 0         | 0.05               |

**Вывод:** Оптимальный размер очереди — 25–35.

#### Влияние corePoolSize

| corePoolSize | Время (мс) | Выполнено | Отклонено | Среднее время (мс) |
|--------------|------------|-----------|-----------|--------------------|
| 2            | 9          | 102       | 98        | 0.09               |
| 3            | 9          | 153       | 47        | 0.06               |
| 4            | 9          | 200       | 0         | 0.04               |

**Вывод:** corePoolSize рекомендуется устанавливать от 4.

### Принцип работы механизма распределения задач

Очереди задач выбираются циклически по очереди.
